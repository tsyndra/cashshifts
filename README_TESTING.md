# Автоматическое тестирование Cash Shifts

## Установка

Playwright уже установлен в виртуальном окружении. Если нужно переустановить:

```bash
./venv/bin/pip install -r requirements.txt
./venv/bin/playwright install chromium
```

## Запуск тестов

### Простой способ
```bash
./run_tests.sh
```

### Ручной запуск
```bash
./venv/bin/python test_playwright.py
```

## Что тестируется

1. **Авторизация** - вход в систему с учетными данными администратора
2. **Загрузка филиалов** - проверка загрузки списка филиалов
3. **Загрузка кассовых смен** - получение данных о кассовых сменах
4. **Просмотр деталей смены** - открытие информации о платежах
5. **Выход из системы** - корректное завершение сессии

## Результаты

После выполнения тестов в папке `screenshots/` будут сохранены скриншоты каждого этапа:

- `01_login_page.png` - страница входа
- `02_login_filled.png` - заполненная форма
- `03_main_page.png` - главная страница
- `04_branches_loaded.png` - загруженные филиалы
- `05_cash_shifts_loaded.png` - таблица кассовых смен
- `06_shift_details.png` - детали смены
- `07_logout.png` - страница после выхода
- `error.png` - скриншот ошибки (если была)

## Настройка

Параметры тестирования находятся в файле `test_playwright.py`:

```python
BASE_URL = "http://localhost:5003"
ADMIN_USERNAME = "admin"
ADMIN_PASSWORD = "CashShifts2024!"
```

## Запуск в Docker

Тесты автоматически запускают приложение локально. Для тестирования в Docker нужно изменить `BASE_URL` на адрес контейнера.

