# Changelog - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π Cash Shifts

## [–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è] - 2025-10-15

### ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–æ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Playwright**
  - E2E —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
  - –°–∫—Ä–∏–ø—Ç `run_tests.sh` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π**
  - –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º: `deploy_to_production.sh`
  - –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –±–µ–∑ —Ç–µ—Å—Ç–æ–≤: `quick_deploy.sh`
  - Git hooks –¥–ª—è –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è –ø–æ—Å–ª–µ commit/pull
  - –°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: `setup_auto_deploy.sh`

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
  - `README_TESTING.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
  - `DEPLOY.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
  - `CHANGELOG.md` - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Ä—Ç –≤ auto_deploy.py (5000 ‚Üí 5003)
- –û–±–Ω–æ–≤–ª–µ–Ω README.md —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –ø–æ—Ä—Ç–æ–º
- –£–¥–∞–ª–µ–Ω—ã —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —à–∞–±–ª–æ–Ω—ã (index.html, index_new.html)

### üóëÔ∏è –£–¥–∞–ª–µ–Ω–æ
- –°—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã (test_*.py - 11 —à—Ç—É–∫)
- –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ deployment —Å–∫—Ä–∏–ø—Ç—ã
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ª–æ–≥–∏, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã, JSON)
- __pycache__ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- –õ–∏—à–Ω–∏–µ deployment –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –î–æ–±–∞–≤–ª–µ–Ω Playwright 1.55.0
- –î–æ–±–∞–≤–ª–µ–Ω pytest-playwright 0.7.1

### üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
cash_shifts/
‚îú‚îÄ‚îÄ app.py                      # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ models.py                   # –ú–æ–¥–µ–ª–∏ –ë–î
‚îú‚îÄ‚îÄ main.py                     # iiko API
‚îú‚îÄ‚îÄ auto_deploy.py             # –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ test_playwright.py         # –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ run_tests.sh              # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ deploy_to_production.sh   # –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π
‚îú‚îÄ‚îÄ quick_deploy.sh           # –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π
‚îú‚îÄ‚îÄ setup_auto_deploy.sh      # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è
‚îÇ
‚îú‚îÄ‚îÄ README.md                 # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ README_TESTING.md         # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ DEPLOY.md                 # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
‚îú‚îÄ‚îÄ CHANGELOG.md              # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îÇ
‚îú‚îÄ‚îÄ templates/                # HTML —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ base.html
‚îÇ   ‚îú‚îÄ‚îÄ login.html
‚îÇ   ‚îú‚îÄ‚îÄ index_final.html
‚îÇ   ‚îî‚îÄ‚îÄ admin.html
‚îÇ
‚îú‚îÄ‚îÄ static/                   # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ venv/                     # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îî‚îÄ‚îÄ screenshots/              # –°–∫—Ä–∏–Ω—à–æ—Ç—ã —Ç–µ—Å—Ç–æ–≤
```

---

## Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å –∞–≤—Ç–æ–¥–µ–ø–ª–æ–µ–º:
```bash
# 1. –í–Ω–æ—Å–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
nano app.py

# 2. –ö–æ–º–º–∏—Ç–∏–º - –¥–µ–ø–ª–æ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
git add .
git commit -m "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
```

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å —Ä—É—á–Ω—ã–º –¥–µ–ø–ª–æ–µ–º:
```bash
# 1. –í–Ω–æ—Å–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
nano app.py

# 2. –î–µ–ø–ª–æ–∏–º –≤—Ä—É—á–Ω—É—é
./deploy_to_production.sh
```

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **–ü—Ä–æ–¥–∞–∫—à–Ω:** https://cashshifts.tsyndra.ru
- **–ê–≤—Ç–æ—Ä:** tsyndra

